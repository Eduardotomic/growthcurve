<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curva de Crescimento Infantil - OMS</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: white;
            padding: 30px;
            text-align: center;
            border-bottom: 1px solid #f0f0f0;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .header-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(45deg, #3498db, #2ecc71);
            border-radius: 6px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 16px;
            font-weight: 400;
        }

        .form-container {
            padding: 40px;
            background: #fafbfc;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .form-group {
            position: relative;
        }

        .form-label {
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 12px;
            font-size: 14px;
        }

        .form-icon {
            width: 18px;
            height: 18px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .form-input {
            width: 80%;
            padding: 15px 18px;
            border: 2px solid #e9ecef;
            border-radius: 50px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .gender-container {
            display: flex;
            gap: 15px;
            margin-top: 12px;
        }

        .gender-option {
            flex: 1;
            position: relative;
        }

        .gender-radio {
            display: none;
        }

        .gender-label {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 12px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            font-weight: 450;
        }

        .gender-radio:checked + .gender-label {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .gender-icon {
            font-size: 15px;
        }

        .analyze-button {
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .analyze-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
        }

        .analyze-button:active {
            transform: translateY(0);
        }

        .dashboard {
            padding: 40px;
            background: white;
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .metric-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            min-width: 180px;
            text-align: center;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            border: 1px solid #f0f0f0;
            transition: transform 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
        }

        .metric-card.peso {
            border-left: 4px solid #3498db;
        }

        .metric-card.altura {
            border-left: 4px solid #2ecc71;
        }

        .metric-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 15px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 14px;
        }

        .metric-value {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .metric-range {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #7f8c8d;
            padding-top: 10px;
            border-top: 1px solid #ecf0f1;
        }

        .charts-section {
            padding: 40px;
            background: #fafbfc;
        }

        .chart-container {
            background: white;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid #f0f0f0;
        }

        .chart-title {
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #ecf0f1;
        }

        .chart-wrapper {
            height: 400px;
            position: relative;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard {
                flex-direction: column;
                align-items: center;
            }
            
            .metric-card {
                width: 100%;
                max-width: 300px;
            }
            
            .gender-container {
                flex-direction: column;
            }
        }

        /* Estilos para elementos de entrada com placeholders */
        .form-input::placeholder {
            color: #adb5bd;
            font-style: italic;
        }

        /* Animação de loading */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid #667eea;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <h1>
                <span class="header-icon">📊</span>
                Curva de Crescimento Infantil - OMS
            </h1>
            <p class="subtitle">Acompanhe o desenvolvimento saudável da criança</p>
        </div>
        
        <div class="form-container">
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">
                        <span class="form-icon">📅</span>
                        Data de Nascimento:
                    </label>
                    <input type="date" id="birthdate" class="form-input" placeholder="dd/mm/aaaa">
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="form-icon">👶</span>
                        Sexo:
                    </label>
                    <div class="gender-container">
                        <div class="gender-option">
                            <input type="radio" id="male" name="gender" value="male" class="gender-radio" checked>
                            <label for="male" class="gender-label">
                                <span class="gender-icon">👦</span>
                                Masculino
                            </label>
                        </div>
                        <div class="gender-option">
                            <input type="radio" id="female" name="gender" value="female" class="gender-radio">
                            <label for="female" class="gender-label">
                                <span class="gender-icon">👧</span>
                                Feminino
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="form-icon">⚖️</span>
                        Peso (kg):
                    </label>
                    <input type="number" id="weight" class="form-input" step="0.01" min="0" placeholder="Ex: 8.5">
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        <span class="form-icon">📏</span>
                        Altura (cm):
                    </label>
                    <input type="number" id="height" class="form-input" step="0.1" min="0" placeholder="Ex: 75.5">
                </div>
            </div>
            
            <button class="analyze-button" onclick="calculateGrowthCurve()">
                <span>🔍</span>
                Analisar Crescimento
            </button>
        </div>
        
        <div class="dashboard">
            <div class="metric-card peso">
                <div class="metric-header">
                    <span>⚖️</span>
                    PESO
                </div>
                <div class="metric-value" id="weight-value">-</div>
                <div class="metric-range">
                    <span id="min-weight">1 kg</span>
                    <span id="max-weight">50 kg</span>
                </div>
            </div>
            
            <div class="metric-card altura">
                <div class="metric-header">
                    <span>📏</span>
                    ALTURA
                </div>
                <div class="metric-value" id="height-value">-</div>
                <div class="metric-range">
                    <span id="min-height">1 cm</span>
                    <span id="max-height">200 cm</span>
                </div>
            </div>
        </div>
        
        <div class="charts-section">
            <div class="chart-container">
                <h3 class="chart-title">Curva de Crescimento pelo Peso</h3>
                <div class="chart-wrapper">
                    <canvas id="weightChart"></canvas>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 class="chart-title">Curva de Crescimento por Altura</h3>
                <div class="chart-wrapper">
                    <canvas id="heightChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
       
        const boysWeightData = {
            months: [0.00, 1.00, 2.00, 3.00, 4.00, 5.00, 6.00, 7.00, 8.00, 9.00, 10.00, 11.00, 12.00, 13.00, 14.00, 15.00, 16.00, 17.00, 18.00, 19.00, 20.00, 21.00, 22.00, 23.00, 24.00, 30.00, 36.00, 42.00, 48.00, 54.00, 60.00, 61.00, 62.00, 63.00, 64.00, 65.00, 66.00, 67.00, 68.00, 69.00, 70.00, 71.00, 72.00, 73.00, 74.00, 75.00, 76.00, 77.00, 78.00, 79.00, 80.00, 81.00, 82.00, 83.00, 84.00, 85.00, 86.00, 87.00, 88.00, 89.00, 90.00, 91.00, 92.00, 93.00, 94.00, 95.00, 96.00, 97.00, 98.00, 99.00, 100.00, 101.00, 102.00, 103.00, 104.00, 105.00, 106.00, 107.00, 108.00, 109.00, 110.00, 111.00, 112.00, 113.00, 114.00, 115.00, 116.00, 117.00, 118.00, 119.00, 120.00],
            p3: [2.50, 3.40, 4.30, 5.00, 5.60, 6.00, 6.40, 6.70, 6.90, 7.10, 7.40, 7.60, 7.70, 7.90, 8.10, 8.30, 8.40, 8.60, 8.80, 8.90, 9.10, 9.20, 9.40, 9.50, 9.70, 10.90, 12.10, 13.40, 14.80, 16.20, 17.80, 14.59, 14.73, 14.86, 14.99, 15.13, 15.27, 15.41, 15.55, 15.69, 15.83, 15.98, 16.12, 16.27, 16.42, 16.57, 16.72, 16.87, 17.02, 17.17, 17.32, 17.48, 17.63, 17.78, 17.94, 18.09, 18.25, 18.40, 18.56, 18.71, 18.86, 19.02, 19.17, 19.33, 19.48, 19.64, 19.79, 19.94, 20.10, 20.25, 20.40, 20.56, 20.71, 20.86, 21.02, 21.17, 21.33, 21.48, 21.64, 21.79, 21.95, 22.11, 22.27, 22.43, 22.60, 22.76, 22.93, 23.10, 23.27, 23.45, 23.62],
            p15: [2.90, 3.90, 4.90, 5.70, 6.20, 6.70, 7.10, 7.40, 7.70, 8.00, 8.20, 8.40, 8.60, 8.80, 9.00, 9.20, 9.40, 9.60, 9.80, 10.00, 10.10, 10.30, 10.50, 10.70, 10.80, 12.20, 13.50, 15.00, 16.50, 18.20, 19.90, 16.21, 16.36, 16.51, 16.66, 16.81, 16.96, 17.12, 17.28, 17.43, 17.59, 17.76, 17.92, 18.08, 18.25, 18.41, 18.58, 18.75, 18.92, 19.08, 19.25, 19.43, 19.60, 19.77, 19.94, 20.12, 20.29, 20.46, 20.64, 20.81, 20.99, 21.16, 21.34, 21.51, 21.69, 21.86, 22.04, 22.22, 22.39, 22.57, 22.75, 22.93, 23.11, 23.29, 23.47, 23.65, 23.83, 24.01, 24.19, 24.38, 24.57, 24.76, 24.95, 25.14, 25.34, 25.54, 25.74, 25.94, 26.15, 26.36, 26.57],
            p50: [3.30, 4.50, 5.60, 6.40, 7.00, 7.50, 7.90, 8.30, 8.60, 8.90, 9.20, 9.40, 9.60, 9.90, 10.10, 10.30, 10.50, 10.70, 10.90, 11.10, 11.30, 11.50, 11.80, 12.00, 12.20, 13.70, 15.30, 16.90, 18.60, 20.40, 22.30, 18.51, 18.68, 18.86, 19.03, 19.21, 19.39, 19.58, 19.76, 19.95, 20.13, 20.32, 20.51, 20.70, 20.90, 21.09, 21.29, 21.48, 21.68, 21.88, 22.08, 22.28, 22.48, 22.69, 22.89, 23.10, 23.30, 23.51, 23.72, 23.93, 24.14, 24.35, 24.56, 24.77, 24.99, 25.20, 25.42, 25.63, 25.85, 26.07, 26.29, 26.51, 26.74, 26.96, 27.19, 27.41, 27.64, 27.88, 28.11, 28.35, 28.59, 28.83, 29.07, 29.32, 29.57, 29.83, 30.09, 30.35, 30.62, 30.89, 31.16],
            p85: [3.90, 5.10, 6.30, 7.20, 7.80, 8.40, 8.80, 9.20, 9.60, 9.90, 10.20, 10.50, 10.80, 11.00, 11.30, 11.50, 11.70, 12.00, 12.20, 12.40, 12.70, 12.90, 13.20, 13.40, 13.60, 15.40, 17.10, 18.90, 20.80, 22.70, 24.90, 21.22, 21.43, 21.64, 21.86, 22.08, 22.30, 22.52, 22.74, 22.96, 23.19, 23.42, 23.65, 23.88, 24.11, 24.35, 24.58, 24.82, 25.06, 25.30, 25.55, 25.79, 26.04, 26.29, 26.54, 26.79, 27.05, 27.30, 27.56, 27.82, 28.08, 28.35, 28.61, 28.88, 29.15, 29.43, 29.70, 29.98, 30.26, 30.54, 30.83, 31.12, 31.41, 31.70, 32.00, 32.30, 32.61, 32.92, 33.23, 33.54, 33.86, 34.19, 34.52, 34.85, 35.19, 35.53, 35.88, 36.24, 36.59, 36.96, 37.33],
            p97: [4.40, 5.80, 7.10, 8.00, 8.70, 9.30, 9.80, 10.30, 10.70, 11.00, 11.40, 11.70, 12.00, 12.30, 12.60, 12.80, 13.10, 13.40, 13.70, 13.90, 14.20, 14.50, 14.70, 15.00, 15.30, 17.30, 19.40, 21.60, 23.90, 26.30, 28.90, 23.80, 24.05, 24.31, 24.56, 24.82, 25.08, 25.35, 25.61, 25.88, 26.15, 26.42, 26.70, 26.98, 27.25, 27.53, 27.82, 28.10, 28.39, 28.68, 28.98, 29.27, 29.57, 29.88, 30.18, 30.49, 30.80, 31.11, 31.43, 31.75, 32.08, 32.41, 32.74, 33.07, 33.41, 33.76, 34.11, 34.46, 34.82, 35.18, 35.54, 35.92, 36.29, 36.67, 37.06, 37.45, 37.85, 38.26, 38.67, 39.08, 39.50, 39.93, 40.37, 40.81, 41.26, 41.71, 42.17, 42.64, 43.12, 43.60, 44.08]
        };

        // Altura para idade (cm) - Meninos
        const boysHeightData = {
            months: [0.00, 1.00, 2.00, 3.00, 4.00, 5.00, 6.00, 7.00, 8.00, 9.00, 10.00, 11.00, 12.00, 13.00, 14.00, 15.00, 16.00, 17.00, 18.00, 19.00, 20.00, 21.00, 22.00, 23.00, 24.00, 30.00, 36.00, 42.00, 48.00, 54.00, 60.00, 61.00, 62.00, 63.00, 64.00, 65.00, 66.00, 67.00, 68.00, 69.00, 70.00, 71.00, 72.00, 73.00, 74.00, 75.00, 76.00, 77.00, 78.00, 79.00, 80.00, 81.00, 82.00, 83.00, 84.00, 85.00, 86.00, 87.00, 88.00, 89.00, 90.00, 91.00, 92.00, 93.00, 94.00, 95.00, 96.00, 97.00, 98.00, 99.00, 100.00, 101.00, 102.00, 103.00, 104.00, 105.00, 106.00, 107.00, 108.00, 109.00, 110.00, 111.00, 112.00, 113.00, 114.00, 115.00, 116.00, 117.00, 118.00, 119.00, 120.00, 121.00, 122.00, 123.00, 124.00, 125.00, 126.00, 127.00, 128.00, 129.00, 130.00, 131.00, 132.00, 133.00, 134.00, 135.00, 136.00, 137.00, 138.00, 139.00, 140.00, 141.00, 142.00, 143.00, 144.00, 145.00, 146.00, 147.00, 148.00, 149.00, 150.00, 151.00, 152.00, 153.00, 154.00, 155.00, 156.00, 157.00, 158.00, 159.00, 160.00, 161.00, 162.00, 163.00, 164.00, 165.00, 166.00, 167.00, 168.00, 169.00, 170.00, 171.00, 172.00, 173.00, 174.00, 175.00, 176.00, 177.00, 178.00, 179.00, 180.00],
            p3: [46.10, 50.80, 54.40, 57.30, 59.70, 61.70, 63.30, 64.80, 66.20, 67.50, 68.70, 69.90, 71.00, 72.10, 73.10, 74.10, 75.00, 75.90, 76.80, 77.70, 78.50, 79.30, 80.00, 80.80, 81.50, 85.10, 88.70, 92.10, 95.40, 98.60, 101.70, 101.63, 102.11, 102.58, 103.05, 103.52, 103.99, 104.44, 104.90, 105.35, 105.80, 106.25, 106.68, 107.12, 107.55, 107.98, 108.41, 108.84, 109.27, 109.69, 110.11, 110.54, 110.96, 111.38, 111.79, 112.21, 112.62, 113.03, 113.44, 113.85, 114.25, 114.66, 115.06, 115.46, 115.85, 116.25, 116.64, 117.03, 117.42, 117.81, 118.20, 118.58, 118.96, 119.35, 119.73, 120.11, 120.50, 120.88, 121.26, 121.64, 122.02, 122.40, 122.78, 123.16, 123.53, 123.91, 124.29, 124.66, 125.04, 125.42, 125.79, 126.17, 126.55, 126.92, 127.30, 127.68, 128.07, 128.46, 128.85, 129.24, 129.64, 130.05, 130.45, 130.86, 131.28, 131.70, 132.13, 132.56, 133.00, 133.44, 133.89, 134.34, 134.81, 135.28, 135.75, 136.24, 136.73, 137.24, 137.74, 138.26, 138.79, 139.32, 139.86, 140.41, 140.96, 141.51, 142.07, 142.64, 143.20, 143.76, 144.33, 144.89, 145.45, 146.00, 146.56, 147.11, 147.65, 148.18, 148.71, 149.24, 149.75, 150.25, 150.74, 151.22, 151.69, 152.15, 152.60, 153.04, 153.46, 153.88, 154.28],
            p15: [47.80, 52.80, 56.40, 59.40, 61.80, 63.80, 65.50, 67.00, 68.40, 69.70, 71.00, 72.20, 73.40, 74.50, 75.60, 76.60, 77.60, 78.60, 79.60, 80.50, 81.40, 82.30, 83.10, 83.90, 84.80, 88.70, 92.50, 96.10, 99.70, 103.20, 106.70, 105.51, 106.01, 106.51, 107.01, 107.50, 107.99, 108.48, 108.96, 109.44, 109.91, 110.38, 110.84, 111.31, 111.76, 112.22, 112.67, 113.13, 113.58, 114.03, 114.48, 114.92, 115.37, 115.81, 116.26, 116.70, 117.13, 117.57, 118.01, 118.44, 118.87, 119.30, 119.73, 120.15, 120.57, 120.99, 121.41, 121.83, 122.24, 122.66, 123.07, 123.48, 123.89, 124.30, 124.71, 125.11, 125.52, 125.93, 126.33, 126.74, 127.15, 127.55, 127.96, 128.36, 128.76, 129.17, 129.57, 129.97, 130.37, 130.77, 131.17, 131.58, 131.98, 132.38, 132.79, 133.19, 133.60, 134.02, 134.43, 134.85, 135.28, 135.70, 136.14, 136.57, 137.01, 137.46, 137.91, 138.37, 138.83, 139.30, 139.77, 140.25, 140.74, 141.23, 141.74, 142.25, 142.76, 143.29, 143.82, 144.37, 144.92, 145.48, 146.04, 146.61, 147.18, 147.76, 148.34, 148.93, 149.51, 150.10, 150.68, 151.27, 151.84, 152.42, 152.99, 153.56, 154.12, 154.67, 155.21, 155.74, 156.27, 156.78, 157.28, 157.78, 158.25, 158.72, 159.17, 159.62, 160.05, 160.46, 160.87],
            p50: [49.90, 54.70, 58.40, 61.40, 63.90, 65.90, 67.60, 69.20, 70.60, 72.00, 73.30, 74.50, 75.70, 76.90, 78.00, 79.10, 80.20, 81.20, 82.30, 83.20, 84.20, 85.10, 86.00, 86.90, 87.80, 91.90, 96.10, 100.00, 103.90, 107.70, 111.20, 110.27, 110.80, 111.33, 111.86, 112.39, 112.91, 113.43, 113.94, 114.45, 114.95, 115.45, 115.95, 116.44, 116.93, 117.42, 117.91, 118.39, 118.87, 119.35, 119.83, 120.31, 120.78, 121.26, 121.73, 122.20, 122.67, 123.14, 123.61, 124.07, 124.54, 125.00, 125.45, 125.91, 126.36, 126.82, 127.27, 127.71, 128.16, 128.60, 129.05, 129.49, 129.93, 130.37, 130.81, 131.25, 131.69, 132.13, 132.56, 133.00, 133.44, 133.88, 134.31, 134.75, 135.18, 135.62, 136.05, 136.48, 136.91, 137.35, 137.78, 138.21, 138.65, 139.08, 139.52, 139.95, 140.40, 140.84, 141.29, 141.74, 142.19, 142.65, 143.11, 143.58, 144.05, 144.53, 145.01, 145.50, 145.99, 146.49, 146.99, 147.50, 148.02, 148.55, 149.08, 149.62, 150.17, 150.73, 151.29, 151.86, 152.44, 153.03, 153.62, 154.22, 154.83, 155.43, 156.04, 156.65, 157.27, 157.88, 158.49, 159.09, 159.70, 160.29, 160.89, 161.47, 162.05, 162.62, 163.18, 163.73, 164.27, 164.80, 165.31, 165.82, 166.31, 166.78, 167.24, 167.69, 168.13, 168.55, 168.96],
            p85: [52.10, 56.70, 60.40, 63.50, 66.00, 68.00, 69.80, 71.30, 72.80, 74.20, 75.60, 76.90, 78.10, 79.30, 80.50, 81.70, 82.80, 83.90, 85.00, 86.00, 87.00, 88.00, 89.00, 89.90, 90.90, 95.30, 99.80, 104.20, 108.50, 112.50, 116.40, 115.02, 115.59, 116.16, 116.72, 117.28, 117.83, 118.38, 118.92, 119.46, 120.00, 120.53, 121.06, 121.58, 122.10, 122.62, 123.13, 123.65, 124.16, 124.67, 125.18, 125.69, 126.20, 126.71, 127.21, 127.71, 128.22, 128.71, 129.21, 129.71, 130.20, 130.69, 131.18, 131.67, 132.16, 132.64, 133.12, 133.60, 134.07, 134.55, 135.03, 135.50, 135.97, 136.44, 136.92, 137.39, 137.86, 138.33, 138.80, 139.27, 139.73, 140.20, 140.67, 141.14, 141.60, 142.07, 142.53, 143.00, 143.46, 143.92, 144.39, 144.85, 145.31, 145.78, 146.25, 146.71, 147.19, 147.66, 148.14, 148.62, 149.11, 149.60, 150.09, 150.59, 151.09, 151.60, 152.11, 152.63, 153.15, 153.68, 154.21, 154.76, 155.31, 155.86, 156.43, 157.00, 157.57, 158.16, 158.76, 159.36, 159.97, 160.58, 161.21, 161.84, 162.47, 163.10, 163.74, 164.38, 165.02, 165.66, 166.29, 166.92, 167.55, 168.17, 168.78, 169.39, 169.99, 170.58, 171.15, 171.72, 172.28, 172.82, 173.35, 173.86, 174.36, 174.84, 175.31, 175.76, 176.21, 176.63, 177.05],
            p97: [54.40, 58.60, 62.40, 65.50, 68.00, 70.10, 71.90, 73.50, 75.00, 76.50, 77.90, 79.20, 80.50, 81.80, 83.00, 84.20, 85.40, 86.50, 87.70, 88.80, 89.80, 90.90, 91.90, 92.90, 94.00, 98.70, 103.50, 108.10, 112.60, 116.90, 121.10, 118.90, 119.49, 120.09, 120.67, 121.26, 121.84, 122.41, 122.98, 123.55, 124.11, 124.66, 125.22, 125.77, 126.31, 126.85, 127.40, 127.93, 128.47, 129.01, 129.55, 130.08, 130.61, 131.14, 131.67, 132.20, 132.73, 133.26, 133.78, 134.30, 134.82, 135.34, 135.85, 136.36, 136.87, 137.38, 137.89, 138.39, 138.89, 139.40, 139.90, 140.39, 140.90, 141.39, 141.89, 142.39, 142.88, 143.38, 143.87, 144.37, 144.86, 145.36, 145.85, 146.34, 146.83, 147.32, 147.81, 148.30, 148.79, 149.28, 149.77, 150.26, 150.74, 151.24, 151.73, 152.22, 152.72, 153.22, 153.72, 154.23, 154.74, 155.26, 155.77, 156.30, 156.82, 157.36, 157.89, 158.43, 158.98, 159.54, 160.10, 160.66, 161.24, 161.82, 162.41, 163.00, 163.61, 164.22, 164.84, 165.46, 166.10, 166.74, 167.39, 168.04, 168.70, 169.35, 170.01, 170.67, 171.33, 171.99, 172.65, 173.30, 173.94, 174.58, 175.21, 175.84, 176.45, 177.06, 177.65, 178.23, 178.80, 179.35, 179.89, 180.41, 180.92, 181.41, 181.88, 182.34, 182.79, 183.22, 183.64]
        };

        // Peso para idade (kg) - Meninas
        const girlsWeightData = {
            months: [0.00, 1.00, 2.00, 3.00, 4.00, 5.00, 6.00, 7.00, 8.00, 9.00, 10.00, 11.00, 12.00, 13.00, 14.00, 15.00, 16.00, 17.00, 18.00, 19.00, 20.00, 21.00, 22.00, 23.00, 24.00, 30.00, 36.00, 42.00, 48.00, 54.00, 60.00, 61.00, 62.00, 63.00, 64.00, 65.00, 66.00, 67.00, 68.00, 69.00, 70.00, 71.00, 72.00, 73.00, 74.00, 75.00, 76.00, 77.00, 78.00, 79.00, 80.00, 81.00, 82.00, 83.00, 84.00, 85.00, 86.00, 87.00, 88.00, 89.00, 90.00, 91.00, 92.00, 93.00, 94.00, 95.00, 96.00, 97.00, 98.00, 99.00, 100.00, 101.00, 102.00, 103.00, 104.00, 105.00, 106.00, 107.00, 108.00, 109.00, 110.00, 111.00, 112.00, 113.00, 114.00, 115.00, 116.00, 117.00, 118.00, 119.00, 120.00],
            p3: [2.40, 3.20, 3.90, 4.50, 4.90, 5.30, 5.70, 5.90, 6.20, 6.40, 6.60, 6.80, 6.90, 7.10, 7.20, 7.40, 7.50, 7.70, 7.80, 8.00, 8.10, 8.20, 8.40, 8.50, 8.60, 9.60, 10.80, 12.00, 13.30, 14.70, 16.30, 14.19, 14.32, 14.44, 14.56, 14.69, 14.81, 14.93, 15.05, 15.17, 15.29, 15.41, 15.54, 15.66, 15.78, 15.90, 16.03, 16.15, 16.28, 16.41, 16.53, 16.67, 16.80, 16.94, 17.08, 17.22, 17.36, 17.51, 17.65, 17.80, 17.96, 18.11, 18.27, 18.43, 18.59, 18.76, 18.93, 19.10, 19.27, 19.45, 19.63, 19.81, 20.00, 20.18, 20.37, 20.56, 20.76, 20.96, 21.15, 21.35, 21.56, 21.76, 21.97, 22.18, 22.39, 22.61, 22.82, 23.04, 23.27, 23.49, 23.72],
            p15: [2.70, 3.60, 4.50, 5.20, 5.70, 6.10, 6.50, 6.80, 7.00, 7.30, 7.50, 7.70, 7.90, 8.10, 8.30, 8.50, 8.70, 8.90, 9.00, 9.20, 9.40, 9.50, 9.70, 9.90, 10.00, 11.20, 12.50, 13.90, 15.40, 17.00, 18.70, 15.83, 15.97, 16.11, 16.26, 16.40, 16.54, 16.68, 16.82, 16.96, 17.10, 17.24, 17.39, 17.53, 17.67, 17.81, 17.95, 18.10, 18.25, 18.40, 18.55, 18.70, 18.86, 19.02, 19.18, 19.34, 19.51, 19.68, 19.85, 20.03, 20.20, 20.38, 20.57, 20.75, 20.94, 21.14, 21.33, 21.53, 21.73, 21.94, 22.15, 22.36, 22.57, 22.79, 23.01, 23.23, 23.46, 23.69, 23.92, 24.15, 24.38, 24.62, 24.86, 25.11, 25.35, 25.60, 25.85, 26.11, 26.37, 26.63, 26.89],
            p50: [3.20, 4.20, 5.10, 5.80, 6.40, 6.90, 7.30, 7.60, 7.90, 8.20, 8.50, 8.70, 8.90, 9.20, 9.40, 9.60, 9.80, 10.00, 10.20, 10.40, 10.60, 10.90, 11.10, 11.30, 11.50, 12.90, 14.30, 15.80, 17.40, 19.10, 20.80, 18.26, 18.43, 18.61, 18.78, 18.95, 19.13, 19.30, 19.47, 19.65, 19.82, 19.99, 20.16, 20.34, 20.51, 20.69, 20.87, 21.05, 21.23, 21.41, 21.60, 21.79, 21.98, 22.18, 22.37, 22.58, 22.78, 22.99, 23.20, 23.42, 23.64, 23.86, 24.09, 24.32, 24.55, 24.79, 25.03, 25.27, 25.52, 25.77, 26.03, 26.29, 26.55, 26.82, 27.09, 27.36, 27.64, 27.92, 28.20, 28.49, 28.78, 29.07, 29.37, 29.66, 29.97, 30.27, 30.58, 30.89, 31.21, 31.53, 31.86],
            p85: [3.70, 4.80, 5.80, 6.60, 7.30, 7.80, 8.20, 8.60, 9.00, 9.30, 9.60, 9.90, 10.10, 10.40, 10.60, 10.90, 11.10, 11.40, 11.60, 11.80, 12.10, 12.30, 12.50, 12.80, 13.00, 14.60, 16.30, 18.00, 19.90, 21.80, 23.90, 21.30, 21.52, 21.74, 21.96, 22.17, 22.39, 22.61, 22.82, 23.04, 23.26, 23.48, 23.70, 23.92, 24.14, 24.36, 24.59, 24.82, 25.05, 25.28, 25.52, 25.76, 26.00, 26.25, 26.51, 26.76, 27.02, 27.29, 27.56, 27.83, 28.11, 28.40, 28.68, 28.97, 29.27, 29.57, 29.88, 30.19, 30.50, 30.83, 31.15, 31.48, 31.82, 32.15, 32.50, 32.85, 33.20, 33.55, 33.91, 34.27, 34.64, 35.01, 35.39, 35.76, 36.15, 36.53, 36.92, 37.32, 37.72, 38.13, 38.54],
            p97: [4.20, 5.50, 6.60, 7.50, 8.20, 8.80, 9.30, 9.80, 10.20, 10.50, 10.90, 11.20, 11.50, 11.80, 12.10, 12.40, 12.60, 12.90, 13.20, 13.50, 13.70, 14.00, 14.30, 14.60, 14.80, 16.80, 18.70, 20.70, 22.80, 25.00, 27.40, 24.38, 24.65, 24.91, 25.18, 25.45, 25.72, 25.98, 26.25, 26.52, 26.79, 27.06, 27.33, 27.61, 27.88, 28.16, 28.44, 28.72, 29.01, 29.30, 29.60, 29.90, 30.21, 30.52, 30.83, 31.15, 31.48, 31.81, 32.15, 32.49, 32.84, 33.19, 33.55, 33.92, 34.29, 34.66, 35.05, 35.44, 35.83, 36.23, 36.64, 37.05, 37.47, 37.89, 38.32, 38.75, 39.19, 39.64, 40.09, 40.54, 41.00, 41.46, 41.93, 42.40, 42.88, 43.36, 43.85, 44.34, 44.84, 45.34, 45.86]
        };

        // Altura para idade (cm) - Meninas
        const girlsHeightData = {
            months: [0.00, 1.00, 2.00, 3.00, 4.00, 5.00, 6.00, 7.00, 8.00, 9.00, 10.00, 11.00, 12.00, 13.00, 14.00, 15.00, 16.00, 17.00, 18.00, 19.00, 20.00, 21.00, 22.00, 23.00, 24.00, 30.00, 36.00, 42.00, 48.00, 54.00, 60.00, 61.00, 62.00, 63.00, 64.00, 65.00, 66.00, 67.00, 68.00, 69.00, 70.00, 71.00, 72.00, 73.00, 74.00, 75.00, 76.00, 77.00, 78.00, 79.00, 80.00, 81.00, 82.00, 83.00, 84.00, 85.00, 86.00, 87.00, 88.00, 89.00, 90.00, 91.00, 92.00, 93.00, 94.00, 95.00, 96.00, 97.00, 98.00, 99.00, 100.00, 101.00, 102.00, 103.00, 104.00, 105.00, 106.00, 107.00, 108.00, 109.00, 110.00, 111.00, 112.00, 113.00, 114.00, 115.00, 116.00, 117.00, 118.00, 119.00, 120.00, 121.00, 122.00, 123.00, 124.00, 125.00, 126.00, 127.00, 128.00, 129.00, 130.00, 131.00, 132.00, 133.00, 134.00, 135.00, 136.00, 137.00, 138.00, 139.00, 140.00, 141.00, 142.00, 143.00, 144.00, 145.00, 146.00, 147.00, 148.00, 149.00, 150.00, 151.00, 152.00, 153.00, 154.00, 155.00, 156.00, 157.00, 158.00, 159.00, 160.00, 161.00, 162.00, 163.00, 164.00, 165.00, 166.00, 167.00, 168.00, 169.00, 170.00, 171.00, 172.00, 173.00, 174.00, 175.00, 176.00, 177.00, 178.00, 179.00, 180.00],
            p3: [45.40, 49.80, 53.00, 55.60, 57.80, 59.60, 61.20, 62.70, 64.00, 65.30, 66.50, 67.70, 68.90, 70.00, 71.00, 72.00, 73.00, 74.00, 74.90, 75.80, 76.70, 77.50, 78.40, 79.20, 80.00, 83.40, 86.60, 89.60, 92.50, 95.40, 98.10, 100.62, 101.09, 101.54, 102.00, 102.45, 102.89, 103.34, 103.78, 104.21, 104.64, 105.07, 105.50, 105.92, 106.34, 106.76, 107.18, 107.60, 108.02, 108.43, 108.85, 109.27, 109.69, 110.11, 110.53, 110.95, 111.37, 111.79, 112.22, 112.64, 113.07, 113.49, 113.92, 114.35, 114.79, 115.22, 115.65, 116.09, 116.53, 116.97, 117.41, 117.85, 118.29, 118.74, 119.19, 119.64, 120.09, 120.55, 121.00, 121.46, 121.92, 122.38, 122.84, 123.31, 123.77, 124.24, 124.71, 125.18, 125.65, 126.13, 126.61, 127.09, 127.57, 128.05, 128.54, 129.02, 129.51, 130.01, 130.50, 131.00, 131.49, 131.99, 132.49, 132.99, 133.49, 133.99, 134.49, 134.99, 135.48, 135.97, 136.46, 136.94, 137.42, 137.90, 138.37, 138.83, 139.29, 139.73, 140.17, 140.60, 141.02, 141.43, 141.83, 142.22, 142.60, 142.96, 143.32, 143.67, 144.00, 144.32, 144.63, 144.93, 145.22, 145.50, 145.77, 146.02, 146.27, 146.51, 146.73, 146.95, 147.15, 147.35, 147.54, 147.71, 147.88, 148.04, 148.20, 148.34, 148.48, 148.61, 148.73],
            p15: [47.10, 51.70, 55.00, 57.70, 59.90, 61.80, 63.50, 65.00, 66.40, 67.70, 69.00, 70.30, 71.40, 72.60, 73.70, 74.80, 75.80, 76.80, 77.80, 78.80, 79.70, 80.60, 81.50, 82.30, 83.20, 86.80, 90.30, 93.60, 96.90, 100.10, 103.20, 104.65, 105.14, 105.63, 106.11, 106.59, 107.06, 107.53, 107.99, 108.46, 108.91, 109.37, 109.82, 110.27, 110.71, 111.16, 111.60, 112.05, 112.49, 112.93, 113.37, 113.81, 114.26, 114.70, 115.14, 115.59, 116.03, 116.48, 116.93, 117.38, 117.82, 118.27, 118.73, 119.18, 119.63, 120.09, 120.55, 121.01, 121.47, 121.93, 122.39, 122.86, 123.32, 123.79, 124.26, 124.73, 125.21, 125.68, 126.16, 126.64, 127.12, 127.60, 128.08, 128.57, 129.05, 129.54, 130.03, 130.52, 131.02, 131.51, 132.01, 132.51, 133.01, 133.51, 134.01, 134.52, 135.03, 135.54, 136.05, 136.56, 137.07, 137.59, 138.10, 138.62, 139.13, 139.65, 140.16, 140.67, 141.18, 141.69, 142.19, 142.69, 143.18, 143.66, 144.14, 144.62, 145.08, 145.54, 145.98, 146.42, 146.85, 147.27, 147.67, 148.07, 148.45, 148.82, 149.18, 149.53, 149.87, 150.19, 150.50, 150.80, 151.09, 151.37, 151.64, 151.89, 152.14, 152.37, 152.59, 152.81, 153.01, 153.20, 153.39, 153.56, 153.72, 153.88, 154.03, 154.17, 154.30, 154.42, 154.54],
            p50: [49.10, 53.70, 57.10, 59.80, 62.10, 64.00, 65.70, 67.30, 68.70, 70.10, 71.50, 72.80, 74.00, 75.20, 76.40, 77.50, 78.60, 79.70, 80.70, 81.70, 82.70, 83.70, 84.60, 85.50, 86.40, 90.30, 94.10, 97.70, 101.30, 104.70, 108.00, 109.60, 110.13, 110.64, 111.16, 111.67, 112.17, 112.68, 113.17, 113.67, 114.16, 114.64, 115.12, 115.60, 116.08, 116.56, 117.03, 117.50, 117.98, 118.45, 118.92, 119.39, 119.86, 120.34, 120.81, 121.28, 121.76, 122.23, 122.71, 123.19, 123.67, 124.14, 124.62, 125.10, 125.59, 126.07, 126.56, 127.04, 127.53, 128.02, 128.51, 129.00, 129.50, 129.99, 130.49, 130.99, 131.49, 131.99, 132.49, 133.00, 133.50, 134.01, 134.52, 135.03, 135.54, 136.05, 136.57, 137.08, 137.60, 138.12, 138.64, 139.16, 139.68, 140.21, 140.73, 141.26, 141.79, 142.32, 142.85, 143.39, 143.92, 144.46, 144.99, 145.53, 146.06, 146.59, 147.13, 147.66, 148.18, 148.70, 149.22, 149.73, 150.24, 150.74, 151.23, 151.72, 152.19, 152.66, 153.12, 153.57, 154.00, 154.43, 154.84, 155.24, 155.63, 156.01, 156.38, 156.73, 157.07, 157.39, 157.71, 158.01, 158.30, 158.58, 158.84, 159.10, 159.34, 159.57, 159.79, 160.00, 160.20, 160.39, 160.56, 160.73, 160.89, 161.04, 161.18, 161.32, 161.44, 161.56, 161.67],
            p85: [51.10, 55.60, 59.10, 61.90, 64.30, 66.20, 68.00, 69.60, 71.10, 72.60, 74.00, 75.30, 76.60, 77.80, 79.10, 80.20, 81.40, 82.50, 83.60, 84.70, 85.70, 86.70, 87.70, 88.70, 89.60, 93.90, 98.10, 102.10, 106.00, 109.70, 113.30, 114.55, 115.11, 115.66, 116.21, 116.75, 117.29, 117.82, 118.35, 118.88, 119.40, 119.92, 120.43, 120.94, 121.45, 121.96, 122.46, 122.96, 123.47, 123.97, 124.47, 124.97, 125.47, 125.98, 126.48, 126.98, 127.48, 127.99, 128.49, 129.00, 129.50, 130.01, 130.52, 131.03, 131.54, 132.05, 132.56, 133.08, 133.59, 134.11, 134.63, 135.15, 135.67, 136.19, 136.72, 137.24, 137.77, 138.30, 138.83, 139.36, 139.89, 140.42, 140.96, 141.49, 142.03, 142.56, 143.10, 143.64, 144.18, 144.72, 145.27, 145.81, 146.36, 146.90, 147.45, 148.00, 148.55, 149.11, 149.66, 150.21, 150.77, 151.33, 151.88, 152.44, 152.99, 153.54, 154.09, 154.64, 155.18, 155.72, 156.25, 156.78, 157.30, 157.81, 158.32, 158.82, 159.31, 159.79, 160.26, 160.71, 161.16, 161.59, 162.01, 162.42, 162.82, 163.20, 163.57, 163.92, 164.27, 164.60, 164.91, 165.22, 165.51, 165.78, 166.05, 166.30, 166.54, 166.77, 166.98, 167.19, 167.39, 167.57, 167.74, 167.91, 168.06, 168.21, 168.34, 168.47, 168.59, 168.70, 168.80],
            p97: [53.10, 57.60, 61.10, 64.00, 66.40, 68.50, 70.30, 71.90, 73.50, 75.00, 76.40, 77.80, 79.20, 80.50, 81.70, 83.00, 84.20, 85.40, 86.50, 87.60, 88.70, 89.80, 90.80, 91.90, 92.90, 97.40, 101.80, 106.10, 110.20, 114.20, 118.00, 118.58, 119.17, 119.75, 120.32, 120.89, 121.46, 122.02, 122.57, 123.12, 123.67, 124.21, 124.75, 125.29, 125.82, 126.35, 126.88, 127.41, 127.94, 128.46, 128.99, 129.52, 130.04, 130.57, 131.09, 131.62, 132.15, 132.68, 133.20, 133.73, 134.26, 134.79, 135.32, 135.86, 136.39, 136.92, 137.46, 138.00, 138.54, 139.07, 139.61, 140.16, 140.70, 141.24, 141.79, 142.34, 142.89, 143.44, 143.99, 144.54, 145.09, 145.64, 146.20, 146.75, 147.31, 147.87, 148.42, 148.98, 149.54, 150.11, 150.67, 151.23, 151.79, 152.36, 152.93, 153.49, 154.06, 154.63, 155.20, 155.78, 156.35, 156.92, 157.49, 158.06, 158.63, 159.20, 159.76, 160.32, 160.88, 161.43, 161.98, 162.52, 163.05, 163.58, 164.10, 164.60, 165.10, 165.59, 166.07, 166.54, 166.99, 167.43, 167.85, 168.27, 168.67, 169.06, 169.43, 169.79, 170.13, 170.46, 170.78, 171.09, 171.38, 171.65, 171.92, 172.17, 172.41, 172.63, 172.85, 173.05, 173.24, 173.42, 173.59, 173.75, 173.90, 174.04, 174.17, 174.29, 174.41, 174.51, 174.61]
        };
		// Array de meses usado para os gráficos
		const months = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 30, 36, 42, 48, 54, 60, 66, 72, 78, 84, 90, 96, 102, 108, 114, 120, 126, 132, 138, 144, 150, 156, 162, 168, 174, 180];
		let weightChart, heightChart;
		function initCharts() {
			const weightCtx = document.getElementById('weightChart').getContext('2d');
			const heightCtx = document.getElementById('heightChart').getContext('2d');
			
			// Configurações comuns para os gráficos
			const chartOptions = {
				responsive: true,
				maintainAspectRatio: false,
				interaction: {
					mode: 'index',
					intersect: false,
				},
				plugins: {
					tooltip: {
						enabled: true,
						backgroundColor: 'rgba(44, 62, 80, 0.9)',
						titleColor: 'white',
						bodyColor: 'white',
						borderColor: 'rgba(102, 126, 234, 0.8)',
						borderWidth: 1,
						cornerRadius: 8
					},
					legend: {
						position: 'bottom',
						labels: {
							boxWidth: 12,
							fontSize: 12,
							usePointStyle: true,
							padding: 15
						}
					}
				},
				elements: {
					point: {
						radius: 0,
						hoverRadius: 6
					}
				},
				scales: {
					x: {
						title: {
							display: true,
							text: 'Idade (meses)',
							font: {
								size: 14,
								weight: 'bold'
							},
							color: '#2c3e50'
						},
						ticks: {
							font: {
								size: 12
							},
							color: '#7f8c8d'
						},
						grid: {
							color: 'rgba(0, 0, 0, 0.05)'
						}
					}
				}
			};
			
			// Criar gráfico de peso
			weightChart = new Chart(weightCtx, {
				type: 'line',
				data: {
					labels: [],
					datasets: []
				},
				options: {
					...chartOptions,
					scales: {
						...chartOptions.scales,
						y: {
							title: {
								display: true,
								text: 'Peso (kg)',
								font: {
									size: 14,
									weight: 'bold'
								},
								color: '#2c3e50'
							},
							min: 0,
							max: 80,
							ticks: {
								font: {
									size: 12
								},
								color: '#7f8c8d'
							},
							grid: {
								color: 'rgba(0, 0, 0, 0.05)'
							}
						}
					}
				}
			});
			
			// Criar gráfico de altura
			heightChart = new Chart(heightCtx, {
				type: 'line',
				data: {
					labels: [],
					datasets: []
				},
				options: {
					...chartOptions,
					scales: {
						...chartOptions.scales,
						y: {
							title: {
								display: true,
								text: 'Altura (cm)',
								font: {
									size: 14,
									weight: 'bold'
								},
								color: '#2c3e50'
							},
							min: 40,
							max: 200,
							ticks: {
								font: {
									size: 12
								},
								color: '#7f8c8d'
							},
							grid: {
								color: 'rgba(0, 0, 0, 0.05)'
							}
						}
					}
				}
			});
		}
		function updateCharts(gender, childWeight, childHeight, ageInMonths) {
			// Determinar quais dados usar
			const weightData = gender === 'male' ? boysWeightData : girlsWeightData;
			const heightData = gender === 'male' ? boysHeightData : girlsHeightData;
			const genderText = gender === 'male' ? 'Meninos' : 'Meninas';
			
			// Atualizar títulos dos gráficos
			document.querySelectorAll('.chart-title')[0].textContent = `Curva de Crescimento pelo Peso - ${genderText}`;
			document.querySelectorAll('.chart-title')[1].textContent = `Curva de Crescimento por Altura - ${genderText}`;
			
			// Determine a faixa de dados a mostrar com base na idade atual
			const startMonth = Math.max(0, Math.floor(ageInMonths / 12) * 12 - 24);
			const endMonth = Math.min(180, Math.ceil(ageInMonths / 12) * 12 + 36);
			
			// Filtrar os meses para mostrar apenas a faixa relevante
			const relevantMonthsIndices = [];
			const relevantMonths = [];
			
			// Para os dados originais que vão até 120 meses
			const originalMonths = weightData.months;
			
			for (let i = 0; i < originalMonths.length; i++) {
				if (originalMonths[i] >= startMonth && originalMonths[i] <= endMonth) {
					relevantMonthsIndices.push(i);
					relevantMonths.push(originalMonths[i]);
				}
			}
			
			// Se não encontrou meses relevantes, use uma faixa padrão
			if (relevantMonths.length === 0) {
				for (let i = 0; i < Math.min(20, originalMonths.length); i++) {
					relevantMonthsIndices.push(i);
					relevantMonths.push(originalMonths[i]);
				}
			}
			
			// Obter valores min/max para escala de eixos
			const allWeightValues = [
				...filterDataByMonths(weightData.p3, relevantMonthsIndices),
				...filterDataByMonths(weightData.p97, relevantMonthsIndices),
				childWeight || 0
			];
			const allHeightValues = [
				...filterDataByMonths(heightData.p3, relevantMonthsIndices),
				...filterDataByMonths(heightData.p97, relevantMonthsIndices),
				childHeight || 0
			];
			
			let minWeight = Math.min(...allWeightValues.filter(v => v > 0)) * 0.9;
			let maxWeight = Math.max(...allWeightValues) * 1.1;
			let minHeight = Math.min(...allHeightValues.filter(v => v > 0)) * 0.95;
			let maxHeight = Math.max(...allHeightValues) * 1.05;
			
			// Limpar datasets anteriores
			weightChart.data.datasets = [];
			heightChart.data.datasets = [];
			
			// Atualizar labels dos gráficos
			weightChart.data.labels = relevantMonths;
			heightChart.data.labels = relevantMonths;
			
			// Filtrar dados para os meses relevantes
			function filterDataByMonths(data, indices) {
				return indices.map(i => data[i]);
			}
			
			// Adicionar curvas de percentis para peso
			addPercentileDataset(weightChart, filterDataByMonths(weightData.p3, relevantMonthsIndices), 'P3', '#e74c3c', false);
			addPercentileDataset(weightChart, filterDataByMonths(weightData.p15, relevantMonthsIndices), 'P15', '#e67e22', false);
			addPercentileDataset(weightChart, filterDataByMonths(weightData.p50, relevantMonthsIndices), 'P50', '#f1c40f', false);
			addPercentileDataset(weightChart, filterDataByMonths(weightData.p85, relevantMonthsIndices), 'P85', '#2ecc71', false);
			addPercentileDataset(weightChart, filterDataByMonths(weightData.p97, relevantMonthsIndices), 'P97', '#3498db', false);
			
			// Adicionar curvas de percentis para altura
			addPercentileDataset(heightChart, filterDataByMonths(heightData.p3, relevantMonthsIndices), 'P3', '#e74c3c', false);
			addPercentileDataset(heightChart, filterDataByMonths(heightData.p15, relevantMonthsIndices), 'P15', '#e67e22', false);
			addPercentileDataset(heightChart, filterDataByMonths(heightData.p50, relevantMonthsIndices), 'P50', '#f1c40f', false);
			addPercentileDataset(heightChart, filterDataByMonths(heightData.p85, relevantMonthsIndices), 'P85', '#2ecc71', false);
			addPercentileDataset(heightChart, filterDataByMonths(heightData.p97, relevantMonthsIndices), 'P97', '#3498db', false);
			
			// Adicionar dados da criança
			if (childWeight && ageInMonths !== undefined) {
				const childWeightData = Array(relevantMonths.length).fill(null);
				// Encontrar o índice do mês mais próximo
				const monthIndex = findClosestMonthIndex(ageInMonths, relevantMonths);
				if (monthIndex !== -1) {
					childWeightData[monthIndex] = childWeight;
					addPercentileDataset(weightChart, childWeightData, 'Criança', '#9b59b6', true);
				}
			}
			
			if (childHeight && ageInMonths !== undefined) {
				const childHeightData = Array(relevantMonths.length).fill(null);
				// Encontrar o índice do mês mais próximo
				const monthIndex = findClosestMonthIndex(ageInMonths, relevantMonths);
				if (monthIndex !== -1) {
					childHeightData[monthIndex] = childHeight;
					addPercentileDataset(heightChart, childHeightData, 'Criança', '#9b59b6', true);
				}
			}
			
			// Ajustar as escalas dos gráficos
			weightChart.options.scales.y.min = Math.max(0, Math.floor(minWeight));
			weightChart.options.scales.y.max = Math.ceil(maxWeight);
			
			heightChart.options.scales.y.min = Math.max(40, Math.floor(minHeight / 5) * 5);
			heightChart.options.scales.y.max = Math.ceil(maxHeight / 5) * 5;
			
			// Atualizar os gráficos
			weightChart.update();
			heightChart.update();
		}

		function addPercentileDataset(chart, data, label, color, isChild) {
			chart.data.datasets.push({
				label: label,
				data: data,
				borderColor: color,
				backgroundColor: color,
				borderWidth: isChild ? 4 : 2,
				fill: false,
				tension: 0.4,
				pointRadius: isChild ? 8 : 0,
				pointHoverRadius: isChild ? 10 : 6,
				pointBackgroundColor: isChild ? color : 'transparent',
				pointBorderColor: isChild ? '#fff' : color,
				pointBorderWidth: isChild ? 3 : 0
			});
		}

		function findClosestMonthIndex(ageInMonths, monthsArray) {
			if (ageInMonths < 0) return -1;
			
			let closestIndex = 0;
			let minDiff = Math.abs(monthsArray[0] - ageInMonths);
			
			for (let i = 1; i < monthsArray.length; i++) {
				const diff = Math.abs(monthsArray[i] - ageInMonths);
				if (diff < minDiff) {
					minDiff = diff;
					closestIndex = i;
				}
			}
			
			return closestIndex;
		}

			function calculateGrowthCurve() {
				const birthdate = document.getElementById('birthdate').value;
				const gender = document.querySelector('input[name="gender"]:checked').value;
				const weight = parseFloat(document.getElementById('weight').value);
				const height = parseFloat(document.getElementById('height').value);
				
				if (!birthdate || isNaN(weight) || isNaN(height)) {
					alert('Por favor, preencha todos os campos corretamente.');
					return;
				}
				
				// Calcular idade em meses
				const birthDate = new Date(birthdate);
				const today = new Date();
				const ageInMonths = Math.floor((today - birthDate) / (1000 * 60 * 60 * 24 * 30.44));
				
				// Atualizar valores exibidos
				document.getElementById('weight-value').textContent = weight.toFixed(2) + ' kg';
				document.getElementById('height-value').textContent = height.toFixed(1) + ' cm';
				
				// Atualizar gráficos
				updateCharts(gender, weight, height, ageInMonths);
			}
        // Inicializar gráficos quando a página carregar
        window.onload = function() {
            initCharts();
        };
    </script>
</body>
</html>
